/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.0.13 (2019-08-06)
 */
!function(){"use strict";var s=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return s(n())}}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},m=tinymce.util.Tools.resolve("tinymce.util.Tools");function x(e){return e&&1===e.nodeType&&"false"===e.contentEditable}var t,n,r,o,i,g={findAndReplaceDOMText:function z(e,t,n,r,o){var i,a,h,s,g,p,c=[],u=0;function d(e,t){if(t=t||0,!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");var n=e.index;if(0<t){var r=e[t];if(!r)throw new Error("Invalid capture group");n+=e[0].indexOf(r),e[0]=r}return[n,n+e[0].length,[e[0]]]}if(h=t.ownerDocument,s=o.getBlockElements(),g=o.getWhiteSpaceElements(),p=o.getShortEndedElements(),a=function l(e){var t;if(3===e.nodeType)return e.data;if(g[e.nodeName]&&!s[e.nodeName])return"";if(t="",x(e))return"\n";if((s[e.nodeName]||p[e.nodeName])&&(t+="\n"),e=e.firstChild)for(;t+=l(e),e=e.nextSibling;);return t}(t)){if(e.global)for(;i=e.exec(a);)c.push(d(i,r));else i=a.match(e),c.push(d(i,r));return c.length&&(u=c.length,function m(e,t,n){var r,o,i,a,c=[],u=0,d=e,l=t.shift(),f=0;e:for(;;){if((s[d.nodeName]||p[d.nodeName]||x(d))&&u++,3===d.nodeType&&(!o&&d.length+u>=l[1]?(o=d,a=l[1]-u):r&&c.push(d),!r&&d.length+u>l[0]&&(r=d,i=l[0]-u),u+=d.length),r&&o){if(d=n({startNode:r,startNodeIndex:i,endNode:o,endNodeIndex:a,innerNodes:c,match:l[2],matchIndex:f}),u-=o.length-a,o=r=null,c=[],f++,!(l=t.shift()))break}else if(g[d.nodeName]&&!s[d.nodeName]||!d.firstChild){if(d.nextSibling){d=d.nextSibling;continue}}else if(!x(d)){d=d.firstChild;continue}for(;;){if(d.nextSibling){d=d.nextSibling;break}if(d.parentNode===e)break e;d=d.parentNode}}}(t,c,function f(e){var m;if("function"!=typeof e){var r=e.nodeType?e:h.createElement(e);m=function(e,t){var n=r.cloneNode(!1);return n.setAttribute("data-mce-index",t),e&&n.appendChild(h.createTextNode(e)),n}}else m=e;return function(e){var t,n,r,o=e.startNode,i=e.endNode,a=e.matchIndex;if(o===i){var c=o;r=c.parentNode,0<e.startNodeIndex&&(t=h.createTextNode(c.data.substring(0,e.startNodeIndex)),r.insertBefore(t,c));var u=m(e.match[0],a);return r.insertBefore(u,c),e.endNodeIndex<c.length&&(n=h.createTextNode(c.data.substring(e.endNodeIndex)),r.insertBefore(n,c)),c.parentNode.removeChild(c),u}t=h.createTextNode(o.data.substring(0,e.startNodeIndex)),n=h.createTextNode(i.data.substring(e.endNodeIndex));for(var d=m(o.data.substring(e.startNodeIndex),a),l=0,f=e.innerNodes.length;l<f;++l){var s=e.innerNodes[l],g=m(s.data,a);s.parentNode.replaceChild(g,s)}var p=m(i.data.substring(0,e.endNodeIndex),a);return(r=o.parentNode).insertBefore(t,o),r.insertBefore(d,o),r.removeChild(o),(r=i.parentNode).insertBefore(p,i),r.insertBefore(n,i),r.removeChild(i),p}}(n))),u}}},h=function(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t},v=function(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)},c=function(e,t){var n,r=[];if((n=m.toArray(e.getBody().getElementsByTagName("span"))).length)for(var o=0;o<n.length;o++){var i=h(n[o]);null!==i&&i.length&&(i===t.toString()&&r.push(n[o]))}return r},b=function(e,t,n){var r=t.get(),o=r.index,i=e.dom;(n=!1!==n)?o+1===r.count?o=0:o++:o-1==-1?o=r.count-1:o--,i.removeClass(c(e,r.index),"mce-match-marker-selected");var a=c(e,o);return a.length?(i.addClass(c(e,o),"mce-match-marker-selected"),e.selection.scrollIntoView(a[0]),o):-1},y=function(e,t){var n=t.parentNode;e.remove(t),e.isEmpty(n)&&e.remove(n)},N=function(e,t,n,r,o){n=(n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")).replace(/\s/g,"[^\\S\\r\\n]"),n=o?"\\b"+n+"\\b":n;var i,a,c,u,d,l=(i=e,a=t,c=new RegExp(n,r?"g":"gi"),(d=i.dom.create("span",{"data-mce-bogus":1})).className="mce-match-marker",u=i.getBody(),S(i,a,!1),g.findAndReplaceDOMText(c,u,d,!1,i.schema));if(l){var f=b(e,t,!0);t.set({index:f,count:l,text:n,matchCase:r,wholeWord:o})}return l},C=function(e,t){var n=b(e,t,!0);t.set(p({},t.get(),{index:n}))},w=function(e,t){var n=b(e,t,!1);t.set(p({},t.get(),{index:n}))},A=function(e){var t=h(e);return null!==t&&0<t.length},O=function(e,t,n,r,o){var i,a,c,u,d,l=t.get(),f=l.index,s=f;for(r=!1!==r,c=e.getBody(),a=m.grep(m.toArray(c.getElementsByTagName("span")),A),i=0;i<a.length;i++){var g=h(a[i]);if(u=d=parseInt(g,10),o||u===l.index){for(n.length?(a[i].firstChild.nodeValue=n,v(a[i])):y(e.dom,a[i]);a[++i];){if((u=parseInt(h(a[i]),10))!==d){i--;break}y(e.dom,a[i])}r&&s--}else f<d&&a[i].setAttribute("data-mce-index",String(d-1))}return t.set(p({},l,{count:o?0:l.count-1,index:s})),r?C(e,t):w(e,t),!o&&0<t.get().count},S=function(e,t,n){var r,o,i,a,c=t.get();for(o=m.toArray(e.getBody().getElementsByTagName("span")),r=0;r<o.length;r++){var u=h(o[r]);null!==u&&u.length&&(u===c.index.toString()&&(i||(i=o[r].firstChild),a=o[r].firstChild),v(o[r]))}if(t.set(p({},c,{index:-1,count:0,text:""})),i&&a){var d=e.dom.createRng();return d.setStart(i,0),d.setEnd(a,a.data.length),!1!==n&&e.selection.setRng(d),d}},a=function(r,o){return{done:function(e){return S(r,o,e)},find:function(e,t,n){return N(r,o,e,t,n)},next:function(){return C(r,o)},prev:function(){return w(r,o)},replace:function(e,t,n){return O(r,o,e,t,n)}}},u=function(e){return function(){return e}},d=u(!1),l=u(!0),f=d,T=l,B=function(){return I},I=(o={fold:function(e,t){return e()},is:f,isSome:f,isNone:T,getOr:r=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){return undefined},or:r,orThunk:n,map:B,ap:B,each:function(){},bind:B,flatten:B,exists:f,forall:T,filter:B,equals:t=function(e){return e.isNone()},equals_:t,toArray:function(){return[]},toString:u("none()")},Object.freeze&&Object.freeze(o),o),k=function(n){var e=function(){return n},t=function(){return o},r=function(e){return e(n)},o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:T,isNone:f,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return k(e(n))},ap:function(e){return e.fold(B,function(e){return k(e(n))})},each:function(e){e(n)},bind:r,flatten:e,exists:r,forall:r,filter:function(e){return e(n)?o:I},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(f,function(e){return t(n,e)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},E={some:k,none:B,from:function(e){return null===e||e===undefined?I:k(e)}},M=(i="function",function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(e)===i}),R=Array.prototype.slice,D=(M(Array.from)&&Array.from,function(i,a){var t,n=(t=s(E.none()),{clear:function(){t.set(E.none())},set:function(e){t.set(E.some(e))},isSet:function(){return t.get().isSome()},on:function(e){t.get().each(e)}}),c=s(a.get().matchCase),u=s(a.get().wholeWord);i.undoManager.add();var e=m.trim(i.selection.getContent({format:"text"}));function d(e){(1<a.get().count?e.enable:e.disable)("next"),(1<a.get().count?e.enable:e.disable)("prev")}var l=function(e,t){!function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)}(["replace","replaceall","prev","next"],t?e.disable:e.enable)};var f=function(e){S(i,a,!1),l(e,!0),d(e)},r=function(e){var t=e.getData(),n=a.get();if(t.findtext.length){if(n.text===t.findtext&&n.matchCase===c.get()&&n.wholeWord===u.get())C(i,a);else{var r=N(i,a,t.findtext,c.get(),u.get());r<=0&&function o(e){i.windowManager.alert("Could not find the specified string.",function(){e.focus("findtext")})}(e),l(e,0===r)}d(e)}else f(e)},o={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",fetch:function(e){e([{type:"togglemenuitem",text:"Match case",onAction:function(e){c.set(!c.get()),n.on(function(e){return e.focus("options")})},active:c.get()},{type:"togglemenuitem",text:"Find whole words only",onAction:function(e){u.set(!u.get()),n.on(function(e){return e.focus("options")})},active:u.get()}])}},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace All",disabled:!0}],initialData:{findtext:e,replacetext:""},onChange:function(e,t){"findtext"===t.name&&0<a.get().count&&f(e)},onAction:function(e,t){var n=e.getData();switch(t.name){case"find":r(e);break;case"replace":O(i,a,n.replacetext)?d(e):f(e);break;case"replaceall":O(i,a,n.replacetext,!0,!0),f(e);break;case"prev":w(i,a),d(e);break;case"next":C(i,a),d(e)}},onSubmit:r,onClose:function(){i.focus(),S(i,a),i.undoManager.add()}};n.set(i.windowManager.open(o,{inline:"toolbar"}))}),F=function(e,t){e.addCommand("SearchReplace",function(){D(e,t)})},j=function(e,t){return function(){D(e,t)}},P=function(e,t){e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:j(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:j(e,t),icon:"search"}),e.shortcuts.add("Meta+F","",j(e,t))};!function W(){e.add("searchreplace",function(e){var t=s({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1});return F(e,t),P(e,t),a(e,t)})}()}();